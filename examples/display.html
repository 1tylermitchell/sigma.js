<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>sigma.js examples | Display settings</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body{
        margin: 0;
        padding: 0;
        padding-top: 60px;
      }
      div#sigma-container-1,
      div#sigma-container-2,
      div#sigma-container-3{
        width: 100%;
        height: 420px;
        margin-bottom: 15px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
      }
      div#sigma-container-1{
        background-color: #EEE;
      }
      div#sigma-container-2{
        background-color: #000;
      }
      div#sigma-container-3{
        background-color: #600;
      }
      div#control-buttons{
        text-align: right;
      }
      a.brand, .sigma{
        font-family: Lobster, "Arial Black";
      }
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
          </a>
          <a class="brand">sigma.js</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="divider-vertical"></li>
              <li><a href="index.html">Basic example</a></li>
              <li class="active"><a href="">Display</a></li>
              <li><a href="layout.html">Layout</a></li>
              <li><a href="http://github.com/jacomyal/sigma.js">Sources</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span6">
          <h2>Display settings</h2>
        </div>
        <div id="control-buttons" class="span6">
          <a class="btn" onclick="resetPosition();">Reset zoom</a>
        </div>
      </div>
      <div class="row">
        <div class="span4">
          <div id="sigma-container-1"></div>
        </div>
        <div class="span4">
          <div id="sigma-container-2"></div>
        </div>
        <div class="span4">
          <div id="sigma-container-3"></div>
        </div>
      </div>
      <div class="span12">
        <p>
          The graph is based on character coappearances in Victor Hugo's <em>Les Mis√©rables</em> (dataset available <a href="http://wiki.gephi.org/index.php/Datasets" target="_blank">here</a>).
        </p>
      </div>
    </div>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../build/sigma.concat.js"></script>
    <script type="text/javascript" src="../plugins/json_graph_api.js"></script>
    <script type="text/javascript">
      var s1, s2, s3;
      
      function init(){
        if(!s1 && !s2 && !s3){
          // INIT SIGMA:
          sigma.debugMode = 1;
          s1 = sigma.init(document.getElementById('sigma-container-1'))
          s2 = sigma.init(document.getElementById('sigma-container-2'))
          s3 = sigma.init(document.getElementById('sigma-container-3'))

          s1.config_drawing({
            // Labels:
            font: '"Helvetica Neue",Helvetica,Arial,sans-serif',
            defaultLabelColor: '#000',
            defaultLabelSize: 14,
            defaultLabelBGColor: '#fff',
            defaultLabelHoverColor: '#000',
            labelThreshold: 9,
            // Edges
            defaultEdgeType: 'curve'
          }).config_graph({
            minNodeSize: 3,
            maxNodeSize: 16,
            minEdgeSize: 4,
            maxEdgeSize: 4,
            scalingMode: 'outside'
          }).config_mouse({
            minRatio: 0.5,
            maxRatio: 2
          });

          s2.config_drawing({
            // Labels:
            font: 'Arial,sans-serif',
            defaultLabelColor: '#fff',
            defaultLabelSize: 16,
            defaultLabelBGColor: '#333',
            defaultLabelHoverColor: '#fff',
            labelThreshold: 6,
            // Edges
            defaultEdgeType: 'line',
            edgeColor: 'default',
            defaultEdgeColor: '#999'
          }).config_graph({
            minNodeSize: 2,
            maxNodeSize: 10,
            minEdgeSize: 4,
            maxEdgeSize: 4,
            scalingMode: 'outside'
          }).config_mouse({
            minRatio: 0.5,
            maxRatio: 2
          });

          s3.config_drawing({
            // Labels:
            font: 'Lobster,sans-serif',
            defaultLabelColor: '#000',
            defaultLabelSize: 15,
            defaultLabelBGColor: '#000',
            defaultLabelHoverColor: '#fff',
            labelThreshold: 9,
            labelColor: 'node',
            // Edges
            defaultEdgeType: 'line'
          }).config_graph({
            minNodeSize: 3,
            maxNodeSize: 14,
            minEdgeSize: 4,
            maxEdgeSize: 4,
            scalingMode: 'outside'
          }).config_mouse({
            minRatio: 0.5,
            maxRatio: 2
          });

          $.ajax({
            url: 'les_miserables.gexf',
            dataType: 'xml',
            success: function(data) {
              json_graph_api.parseGEXF(data,s1.getGraph());
              json_graph_api.parseGEXF(data,s2.getGraph());
              json_graph_api.parseGEXF(data,s3.getGraph());
              s1.draw();
              s2.draw();
              s3.draw();
            }
          });

          window.onresize = function(){
            s1.resize();
            s2.resize();
            s3.resize();
          };
        }
      }

      function resetPosition(){
        if(!s1 && !s2 && !s3){
          return;
        }

        s1.position(0,0,1);
        s2.position(0,0,1);
        s3.position(0,0,1);

        s1.draw(
          s1.config('lastNodes'),
          s1.config('lastEdges'),
          s1.config('lastLabels'),
          true
        );

        s2.draw(
          s2.config('lastNodes'),
          s2.config('lastEdges'),
          s2.config('lastLabels'),
          true
        );

        s3.draw(
          s3.config('lastNodes'),
          s3.config('lastEdges'),
          s3.config('lastLabels'),
          true
        );
      }

      $(document).ready(function(){
        init();
      });
    </script>

  </body>
</html>
