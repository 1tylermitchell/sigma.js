<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>sigma.js examples | Basic example</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/sigma.css" rel="stylesheet">
    <style type="text/css">
      body{
        margin: 0;
        padding: 0;
        padding-top: 60px;
      }
      div#sigma-container{
        width: 100%;
        height: 420px;
        margin-bottom: 15px;
        background-color: #EEE;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
      }
      div#control-buttons{
        text-align: right;
      }
      a.brand{
        font-family: Lobster, "Arial Black";
      }
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
          </a>
          <a class="brand">sigma.js</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="divider-vertical"></li>
              <li class="active"><a href="">Basic example</a></li>
              <li><a href="display.html">Display</a></li>
              <li><a href="layout.html">Layout</a></li>
              <li><a href="http://github.com/jacomyal/sigma.js">Sources</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span6">
          <h2>Basic example</h2>
        </div>
        <div id="control-buttons" class="span6">
          <a class="btn" onclick="resetPosition();">Reset zoom</a>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
          <div id="sigma-container"></div>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
          <p>
            The graph is based on character coappearances in Victor Hugo's <em>Les Mis√©rables</em> (dataset available <a href="http://wiki.gephi.org/index.php/Datasets" target="_blank">here</a>).
          </p>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../build/sigma.concat.js"></script>
    <script type="text/javascript" src="../plugins/json_graph_api.js"></script>
    <script type="text/javascript">
      var s;
      
      function init(){
        if(!s){
          // INIT SIGMA:
          sigma.debugMode = 1;
          s = sigma.init(document.getElementById('sigma-container')).config_drawing({
            // Labels:
            font: '"Helvetica Neue",Helvetica,Arial,sans-serif',
            defaultLabelColor: '#000',
            defaultLabelSize: 14,
            defaultLabelBGColor: '#fff',
            defaultLabelHoverColor: '#000',
            labelThreshold: 9,
            // Edges
            defaultEdgeType: 'curve'
          }).config_graph({
            minNodeSize: 3,
            maxNodeSize: 16,
            minEdgeSize: 4,
            maxEdgeSize: 4
          }).config_mouse({
            minRatio: 1,
            maxRatio: 5
          });

          $.ajax({
            url: 'les_miserables.gexf',
            dataType: 'xml',
            success: function(data) {
              json_graph_api.parseGEXF(data,s.getGraph());
              s.draw();
            }
          });

          window.onresize = function(){
            s.resize();
          };
        }
      }

      function resetPosition(){
        if(!s){
          return;
        }
        s.position(0,0,1);

        s.draw(
          s.config('lastNodes'),
          s.config('lastEdges'),
          s.config('lastLabels'),
          true
        );
      }

      $(document).ready(function(){
        init();
      });
    </script>

  </body>
</html>
